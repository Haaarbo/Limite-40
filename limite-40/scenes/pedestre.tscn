[gd_scene load_steps=4 format=3 uid="uid://bsi6wiani5oh3"]

[ext_resource type="PackedScene" uid="uid://kv0l8ikdp6h2" path="res://scenes/stacked_sprite.tscn" id="1_jux3i"]

[sub_resource type="GDScript" id="GDScript_jux3i"]
resource_name = "char"
script/source = "extends CharacterBody2D

const SPEED = 1000
const ACCELERATION = 5
func _physics_process(delta: float) -> void:
	var input = Vector2.ZERO
	input.x = Input.get_action_strength(\"dir\") - Input.get_action_strength(\"esq\")
	input.y = Input.get_action_strength(\"baixo\") - Input.get_action_strength(\"cima\")
	
	velocity = lerp(velocity, input * SPEED, ACCELERATION * delta)
	move_and_slide()
	
	if input != Vector2.ZERO:
		$StackedSprite.set_rotation_sprites(velocity.angle() - deg_to_rad(90))
"

[sub_resource type="RectangleShape2D" id="RectangleShape2D_jux3i"]
size = Vector2(28, 31)

[node name="Pedestre" type="CharacterBody2D"]
scale = Vector2(5, 5)
script = SubResource("GDScript_jux3i")

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
position = Vector2(-4, -9.5)
scale = Vector2(1, 1)
shape = SubResource("RectangleShape2D_jux3i")

[node name="StackedSprite" parent="." instance=ExtResource("1_jux3i")]
rotate_sprites = true
